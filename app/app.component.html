<div style="height:100%;width:100%;display:flex;flex-direction:column">
  <p-toolbar>
    <div *ngIf="! imapClientService.isLoggedIn()" class="ui-toolbar-group-left">
      <p-dialog header="Setup" [(visible)]="showSetup">
        <div> <label>host: </label> <input pInputText [(ngModel)]="account.host"> </div>
        <div> <label>port: </label> <input pInputText [(ngModel)]="account.port"> </div>
        <div> <label>user: </label> <input pInputText [(ngModel)]="account.user"> </div>
        <div> <label>pass: </label> <input pInputText [(ngModel)]="account.pass"> </div>
      </p-dialog>
      <button pButton (click)="imapClientService.login(account)" icon="fa-sign-in" label="login"></button>
      <button pButton (click)="toggleSetup()" icon="fa-sliders" label="setup"></button>
    </div>
    <div *ngIf="imapClientService.isLoggedIn()" class="ui-toolbar-group-left">
      <button pButton (click)="imapClientService.logout()" icon="fa-sign-out" label="logout"></button>
      <button pButton (click)="imapClientService.updateMailboxes()" icon="fa-refresh" label="refresh"></button>
      <button pButton (click)="imapClientService.updateAll()" icon="fa-refresh" label="refresh all"></button>
    </div>
  </p-toolbar>
  <div style="width:100%;flex:1 1 50%">
    <div style="height:100%;width:100%;display:flex;flex-direction:row;justify-content:center;align-items:stretch;align-content:stretch">
      <div>
        <folder-tree></folder-tree>
      </div>
      <div style="flex:2 2 0">
        <message-list></message-list>
      </div>
      <div style="flex:1 1 0">
        <address-pane></address-pane>
      </div>
    </div>
  </div>
</div>
