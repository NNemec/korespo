<div fxLayout="column" style="height:100%;width:100%">
  <div fxFlexFill>
    <div *ngIf="! imapClientService.isLoggedIn()">
      <p-dialog header="Setup" [(visible)]="showSetup">
        <div> <label>host: </label> <input pInputText [(ngModel)]="imapClientService.accountData.host"> </div>
        <div> <label>port: </label> <input pInputText [(ngModel)]="imapClientService.accountData.port"> </div>
        <div> <label>user: </label> <input pInputText [(ngModel)]="imapClientService.accountData.user"> </div>
        <div> <label>pass: </label> <input pInputText [(ngModel)]="imapClientService.accountData.pass"> </div>
      </p-dialog>
      <button pButton (click)="imapClientService.login()" icon="fa-sign-in" label="login"></button>
      <button pButton (click)="toggleSetup()" icon="fa-sliders" label="setup"></button>
    </div>
    <div *ngIf="imapClientService.isLoggedIn()">
      <button pButton (click)="imapClientService.logout()" icon="fa-sign-out" label="logout"></button>
      <button pButton (click)="imapClientService.updateMailboxes()" icon="fa-refresh" label="refresh"></button>
      <button pButton (click)="imapClientService.updateAll()" icon="fa-refresh" label="refresh all"></button>
    </div>
  </div>
  <div fxFlex style="width:100%">
    <div fxLayout="row" fxLayoutAlign="center stretch" style="height:100%;width:100%">
      <div fxFlex="auto">
        <folder-tree (folderPathSelected)="selectFolderPath($event)"></folder-tree>
      </div>
      <div fxFlex="auto">
        <message-list [folderPath]="currentFolderPath"></message-list>
      </div>
    </div> 
  </div>
</div>
